<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Network - Pattern Recognition</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header>
            <h1>Neural Network Pattern Recognition</h1>
            <p class="subtitle">Train a model, then test it on patterns it's never seen</p>
        </header>

        <!-- Main Content - Three Column Layout -->
        <main class="main-grid">
            <!-- Left: Drawing Area -->
            <section class="panel drawing-panel">
                <h2>Draw a Pattern</h2>
                <div class="pixel-grid" id="pixelGrid"></div>
                <div class="pixel-warning" id="pixelWarning">
                    <span class="warning-icon">‚ö†Ô∏è</span>
                    <span class="warning-text">Draw at least 4 pixels</span>
                </div>
                <div class="draw-controls">
                    <button id="clearGridBtn" class="btn btn-small">Clear</button>
                </div>
                <div class="sample-patterns">
                    <span class="sample-hint">Or click a sample:</span>
                    <div class="pattern-samples" id="patternSamples"></div>
                </div>
            </section>

            <!-- Center: Network + Accuracy Chart -->
            <section class="panel viz-panel">
                <canvas id="networkCanvas" width="500" height="280"></canvas>
                <div class="layer-labels" id="layerLabels">
                    <span class="label input-label">Input (25)</span>
                    <span class="label hidden-label">Hidden (16)</span>
                    <span class="label hidden-label">Hidden (8)</span>
                    <span class="label output-label">Output (4)</span>
                </div>

                <!-- Accuracy Chart - Prominent Position -->
                <div class="accuracy-chart-container featured">
                    <div class="chart-header">
                        <span class="chart-title">üìà Learning Progress</span>
                        <div class="chart-legend">
                            <span class="legend-train">‚îÅ Train</span>
                            <span class="legend-test">‚îÅ Test</span>
                        </div>
                    </div>
                    <canvas id="accuracyChart" width="480" height="100"></canvas>
                    <div class="accuracy-stats">
                        <div class="accuracy-stat">
                            <span class="accuracy-label">Train Accuracy</span>
                            <span class="accuracy-value" id="trainAccuracy">0%</span>
                        </div>
                        <div class="accuracy-stat">
                            <span class="accuracy-label">Test Accuracy</span>
                            <span class="accuracy-value test" id="testAccuracy">0%</span>
                        </div>
                        <div class="accuracy-stat">
                            <span class="accuracy-label">Epochs</span>
                            <span class="accuracy-value epochs" id="epochCount">0</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Right: Prediction & Controls -->
            <section class="panel control-panel">
                <div class="prediction-area">
                    <h2>Network Output</h2>
                    <div class="prediction-bars" id="predictionBars"></div>
                    <div class="predicted-class">
                        Prediction: <span id="predictedClass">-</span>
                    </div>
                </div>

                <!-- Training Controls -->
                <div class="training-area">
                    <div class="training-controls">
                        <button id="trainBtn" class="btn btn-primary btn-train">Train</button>
                        <button id="testBtn" class="btn btn-test">Test</button>
                        <button id="resetBtn" class="btn btn-secondary">Reset</button>
                    </div>

                    <div class="speed-control">
                        <label>Learning Rate: <span id="lrValue">0.5</span></label>
                        <input type="range" id="learningRate" min="0.1" max="2" step="0.1" value="0.5">
                    </div>
                </div>
            </section>
        </main>

        <!-- Test Results Modal/Overlay -->
        <div id="testOverlay" class="test-overlay hidden">
            <div class="test-panel">
                <h2>Test Mode: Unseen Patterns</h2>
                <p class="test-description">Testing on <span id="testCount">12</span> patterns the network has never seen during training</p>

                <div class="test-content">
                    <div class="test-pattern-display">
                        <div class="test-grid" id="testGrid"></div>
                        <span class="test-pattern-name" id="testPatternName">-</span>
                    </div>

                    <div class="test-result">
                        <div class="test-expected">
                            Expected: <span id="testExpected">-</span>
                        </div>
                        <div class="test-predicted">
                            Predicted: <span id="testPredicted">-</span>
                        </div>
                        <div class="test-status" id="testStatus">-</div>
                    </div>
                </div>

                <div class="test-progress">
                    <span id="testProgress">0 / 12</span>
                    <div class="test-score">
                        Score: <span id="testScore">0</span> / <span id="testTotal">12</span>
                    </div>
                </div>

                <div class="test-controls">
                    <button id="testPrevBtn" class="btn btn-secondary">Previous</button>
                    <button id="testNextBtn" class="btn btn-primary">Next</button>
                    <button id="testCloseBtn" class="btn btn-secondary">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="neural-network.js"></script>
    <script src="visualization.js"></script>
    <script src="app.js"></script>
</body>
</html>
